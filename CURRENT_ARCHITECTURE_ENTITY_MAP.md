# Current Architecture Entity Map - NeuroSense FX

## System Overview
The current NeuroSense FX architecture shows significant complexity with multiple layers of abstraction, numerous specialized utilities, and complex interdependencies that create a high-maintenance system.

## ğŸ—ï¸ CORE SYSTEM ENTITIES

### APPLICATION ENTRY POINT
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MAIN.JS                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚   App.svelte    â”‚  â”‚  wsClient.js    â”‚  â”‚ displayStore.js â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - UI Root       â”‚  â”‚ - WebSocket     â”‚  â”‚ - Global State  â”‚â”‚
â”‚ â”‚ - Component     â”‚  â”‚ - Connection    â”‚  â”‚ - Actions       â”‚â”‚
â”‚ â”‚   Mounting      â”‚  â”‚ - Data Flow     â”‚  â”‚ - Persistence   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CENTRALIZED STATE MANAGEMENT LAYER
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DISPLAY STORE ECOSYSTEM                  â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ displayStore.js â”‚  â”‚displayStateStoreâ”‚  â”‚  markerStore.js â”‚â”‚
â”‚ â”‚                 â”‚  â”‚     .js         â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - UI Elements   â”‚  â”‚ - Display Data  â”‚  â”‚ - Price Markers â”‚â”‚
â”‚ â”‚ - Global Config â”‚  â”‚ - Active Displayâ”‚  â”‚ - User Placed   â”‚â”‚
â”‚ â”‚ - Context Menu  â”‚  â”‚ - Display State â”‚  â”‚ - Coordinate    â”‚â”‚
â”‚ â”‚ - Z-Index       â”‚  â”‚ - Size/Position â”‚  â”‚   Management    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚shortcutStore.js â”‚  â”‚coordinateStore  â”‚  â”‚optimizedDisplay â”‚â”‚
â”‚ â”‚                 â”‚  â”‚     .js         â”‚  â”‚   Store.js      â”‚â”‚
â”‚ â”‚ - Keyboard      â”‚  â”‚ - Bounds        â”‚  â”‚ - Performance   â”‚â”‚
â”‚ â”‚   Shortcuts     â”‚  â”‚ - Validation    â”‚  â”‚ - Optimizations â”‚â”‚
â”‚ â”‚ - Context       â”‚  â”‚ - Reactive      â”‚  â”‚ - Caching       â”‚â”‚
â”‚ â”‚   Management    â”‚  â”‚   Updates       â”‚  â”‚ - Memory Mgmt   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ DATA FLOW AND COMMUNICATION LAYER

### WEBSOCKET AND DATA PROCESSING
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA COMMUNICATION LAYER                  â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚   wsClient.js   â”‚  â”‚  workerManager  â”‚  â”‚dataProcessor.js â”‚â”‚
â”‚ â”‚                 â”‚  â”‚      .js        â”‚  â”‚   (Worker)      â”‚â”‚
â”‚ â”‚ - WebSocket     â”‚  â”‚ - Worker Pool   â”‚  â”‚ - Tick Process  â”‚â”‚
â”‚ â”‚   Connection    â”‚  â”‚ - Lifecycle     â”‚  â”‚ - State Calc    â”‚â”‚
â”‚ â”‚ - Data Validationâ”‚  â”‚ - Performance   â”‚  â”‚ - Memory Mgmt   â”‚â”‚
â”‚ â”‚ - Reconnection  â”‚  â”‚ - Health Monitor â”‚  â”‚ - Error Handle  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚   schema.js     â”‚  â”‚websocketErrorHandlerâ”‚ â”‚errorBoundary   â”‚â”‚
â”‚ â”‚                 â”‚  â”‚      .js        â”‚  â”‚ Utils.js        â”‚â”‚
â”‚ â”‚ - Data Validationâ”‚  â”‚ - Connection    â”‚  â”‚ - Error Catch   â”‚â”‚
â”‚ â”‚ - Type Safety   â”‚  â”‚   Recovery      â”‚  â”‚ - Graceful      â”‚â”‚
â”‚ â”‚ - Structure     â”‚  â”‚ - Retry Logic   â”‚  â”‚   Degradation   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ VISUALIZATION AND RENDERING LAYER

### CANVAS VISUALIZATION SYSTEM
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   VISUALIZATION ENGINE                      â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚FloatingDisplay  â”‚  â”‚  marketProfile  â”‚  â”‚dayRangeMeter.js â”‚â”‚
â”‚ â”‚    .svelte      â”‚  â”‚      .js        â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - Component     â”‚  â”‚ - TPO Analysis  â”‚  â”‚ - ADR Reference â”‚â”‚
â”‚ â”‚   Container     â”‚  â”‚ - Volume        â”‚  â”‚ - Range Display â”‚â”‚
â”‚ â”‚ - Canvas        â”‚  â”‚   Profiling     â”‚  â”‚ - Graduated     â”‚â”‚
â”‚ â”‚   Management    â”‚  â”‚ - Delta Analysisâ”‚  â”‚   Markers      â”‚â”‚
â”‚ â”‚ - DPR Rendering â”‚  â”‚ - Price Levels  â”‚  â”‚ - High/Low      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ priceFloat.js   â”‚  â”‚priceDisplay.js  â”‚  â”‚volatilityOrb.js â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - Horizontal    â”‚  â”‚ - Monospaced    â”‚  â”‚ - Dynamic       â”‚â”‚
â”‚ â”‚   Price Line    â”‚  â”‚   Numbers       â”‚  â”‚   Volatility    â”‚â”‚
â”‚ â”‚ - Real-time     â”‚  â”‚ - Crisp Text    â”‚  â”‚ - Gradient      â”‚â”‚
â”‚ â”‚   Updates       â”‚  â”‚ - DPR Scaling   â”‚  â”‚   Rendering     â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚priceMarkers.js  â”‚  â”‚volatilityMetric â”‚  â”‚DPR Rendering    â”‚â”‚
â”‚ â”‚                 â”‚  â”‚      .js        â”‚  â”‚ System          â”‚â”‚
â”‚ â”‚ - User Placed   â”‚  â”‚ - Volatility    â”‚  â”‚                 â”‚â”‚
â”‚ â”‚   Markers       â”‚  â”‚   Calculation   â”‚  â”‚ - Crisp Text    â”‚â”‚
â”‚ â”‚ - Coordinate    â”‚  â”‚ - Metrics       â”‚  â”‚ - Scaling       â”‚â”‚
â”‚ â”‚   Tracking      â”‚  â”‚   Display       â”‚  â”‚ - Performance   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âŒ¨ï¸ INTERACTION AND EVENT HANDLING LAYER

### KEYBOARD AND USER INPUT SYSTEM
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  INTERACTION ENGINE                         â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ keyboardAction  â”‚  â”‚eventHandling.js â”‚  â”‚debugConfig.js   â”‚â”‚
â”‚ â”‚      .js        â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - Shortcut      â”‚  â”‚ - Event         â”‚  â”‚ - Debug Logging â”‚â”‚
â”‚ â”‚   Registration  â”‚  â”‚   Coordination  â”‚  â”‚ - Performance   â”‚â”‚
â”‚ â”‚ - Context       â”‚  â”‚ - State         â”‚  â”‚   Tracking      â”‚â”‚
â”‚ â”‚   Management    â”‚  â”‚   Management    â”‚  â”‚ - Error         â”‚â”‚
â”‚ â”‚ - Prevention    â”‚  â”‚ - Browser       â”‚  â”‚   Capture       â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚interact.js      â”‚  â”‚UnifiedContextMenuâ”‚ â”‚symbolService.js â”‚â”‚
â”‚ â”‚   (External)    â”‚  â”‚ Component       â”‚  â”‚                 â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚ - Symbol Search â”‚â”‚
â”‚ â”‚ - Drag & Drop   â”‚  â”‚ - Context       â”‚  â”‚ - Fuzzy Search  â”‚â”‚
â”‚ â”‚ - Resize        â”‚  â”‚   Menus         â”‚  â”‚ - Data Fetch    â”‚â”‚
â”‚ â”‚ - Gesture       â”‚  â”‚ - Parameter     â”‚  â”‚ - Validation    â”‚â”‚
â”‚ â”‚   Handling      â”‚  â”‚   Groups        â”‚  â”‚ - Metadata      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ PERFORMANCE AND MONITORING LAYER

### OPTIMIZATION AND TRACKING SYSTEMS
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PERFORMANCE INFRASTRUCTURE                 â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚PerformanceMonitorâ”‚ â”‚memoryManagement â”‚ â”‚canvasRendering  â”‚â”‚
â”‚ â”‚      .js        â”‚  â”‚     Utils.js    â”‚  â”‚   Monitor.js    â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - FPS Tracking  â”‚  â”‚ - Memory        â”‚  â”‚ - Canvas Health â”‚â”‚
â”‚ â”‚ - Latency       â”‚  â”‚   Tracking      â”‚  â”‚ - Render        â”‚â”‚
â”‚ â”‚   Measurement   â”‚  â”‚ - Cleanup       â”‚  â”‚   Performance   â”‚â”‚
â”‚ â”‚ - Resource      â”‚  â”‚ - Leak          â”‚  â”‚ - DPR Validationâ”‚â”‚
â”‚ â”‚   Usage         â”‚  â”‚   Prevention    â”‚  â”‚ - Timing        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚multiDisplay     â”‚ â”‚productionOptimizationsâ”‚ â”‚Health Monitoringâ”‚â”‚
â”‚ â”‚PerformanceTrackerâ”‚ â”‚      .js        â”‚  â”‚ Infrastructure  â”‚â”‚
â”‚ â”‚     .js         â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - 20+ Display   â”‚  â”‚ - Production    â”‚  â”‚ - System Health â”‚â”‚
â”‚ â”‚   Performance   â”‚  â”‚   Optimizations â”‚  â”‚ - Error         â”‚â”‚
â”‚ â”‚ - Scalability   â”‚  â”‚ - Memory        â”‚  â”‚   Tracking      â”‚â”‚
â”‚ â”‚   Testing       â”‚  â”‚   Management    â”‚  â”‚ - Performance   â”‚â”‚
â”‚ â”‚ - Resource      â”‚  â”‚ - Bundle Size   â”‚  â”‚   Analytics     â”‚â”‚
â”‚ â”‚   Limits        â”‚  â”‚   Reduction     â”‚  â”‚ - Alerts        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ CONFIGURATION AND UTILITY LAYER

### CONFIGURATION MANAGEMENT
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CONFIGURATION SYSTEM                       â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚visualizationSchemaâ”‚ â”‚configDefaults.js â”‚ â”‚environmentUtils â”‚â”‚
â”‚ â”‚      .js        â”‚  â”‚                 â”‚  â”‚      .js        â”‚â”‚
â”‚ â”‚                 â”‚  â”‚ - Default       â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - Schema        â”‚  â”‚   Values        â”‚  â”‚ - Environment   â”‚â”‚
â”‚ â”‚   Definition    â”‚  â”‚ - Factory       â”‚  â”‚   Detection     â”‚â”‚
â”‚ â”‚ - Parameter     â”‚  â”‚   Defaults      â”‚  â”‚ - Migration     â”‚â”‚
â”‚ â”‚   Metadata      â”‚  â”‚ - Runtime       â”‚  â”‚ - Storage       â”‚â”‚
â”‚ â”‚ - Validation    â”‚  â”‚   Inheritance   â”‚  â”‚   Management    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚workspacePersistenceâ”‚ â”‚workspaceGrid.js â”‚ â”‚canvasSizing.js  â”‚â”‚
â”‚ â”‚      .js        â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚                 â”‚  â”‚ - Grid Snapping â”‚  â”‚ - Zoom          â”‚â”‚
â”‚ â”‚ - Save/Load     â”‚  â”‚ - Layout        â”‚  â”‚   Awareness     â”‚â”‚
â”‚ â”‚ - Migration     â”‚  â”‚   Management    â”‚  â”‚ - DPR Scaling   â”‚â”‚
â”‚ â”‚ - Export/Import â”‚  â”‚ - Position      â”‚  â”‚ - Dimension     â”‚â”‚
â”‚ â”‚ - Storage       â”‚  â”‚   Validation    â”‚  â”‚   Calculation   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§ª TESTING AND VALIDATION LAYER

### TESTING INFRASTRUCTURE
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TESTING ECOSYSTEM                       â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚browserEvidence  â”‚ â”‚displayCreation   â”‚ â”‚canvasPrecision  â”‚â”‚
â”‚ â”‚ Collector.js    â”‚ â”‚ Logger.js        â”‚  â”‚ Validator.js    â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚â”‚
â”‚ â”‚ - Real Browser  â”‚  â”‚ - Display       â”‚  â”‚ - Mathematical  â”‚â”‚
â”‚ â”‚   Measurements  â”‚  â”‚   Creation      â”‚  â”‚   Precision     â”‚â”‚
â”‚ â”‚ - Performance   â”‚  â”‚   Tracking      â”‚  â”‚ - Coordinate    â”‚â”‚
â”‚ â”‚   Data          â”‚  â”‚ - WebSocket     â”‚  â”‚   Validation    â”‚â”‚
â”‚ â”‚ - Evidence      â”‚  â”‚   Latency       â”‚  â”‚ - Rendering     â”‚â”‚
â”‚ â”‚   Collection    â”‚  â”‚   Measurement   â”‚  â”‚   Accuracy      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚coordinateValidatorâ”‚ â”‚visualizationLoggingâ”‚ â”‚TestRunner.js    â”‚â”‚
â”‚ â”‚      .js        â”‚  â”‚ Utils.js        â”‚  â”‚                 â”‚â”‚
â”‚ â”‚                 â”‚  â”‚                 â”‚  â”‚ - Automated     â”‚â”‚
â”‚ â”‚ - Coordinate    â”‚  â”‚ - Visualization â”‚  â”‚   Testing       â”‚â”‚
â”‚ â”‚   Validation    â”‚  â”‚   Logging       â”‚  â”‚ - Regression    â”‚â”‚
â”‚ â”‚ - YScale        â”‚  â”‚ - Performance   â”‚  â”‚   Detection     â”‚â”‚
â”‚ â”‚   Validation    â”‚  â”‚   Tracking      â”‚  â”‚ - Workflow      â”‚â”‚
â”‚ â”‚ - Bounds        â”‚  â”‚ - Debug Data    â”‚  â”‚   Validation    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— CROSS-CUTTING CONCERNS

### SHARED UTILITIES AND HELPERS
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UTILITY LIBRARIES                        â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ d3-utils.js     â”‚  â”‚priceFormatting  â”‚ â”‚crossEnvironment â”‚â”‚
â”‚ â”‚                 â”‚  â”‚     .js         â”‚  â”‚    Copy.js      â”‚â”‚
â”‚ â”‚ - D3.js         â”‚  â”‚ - Price         â”‚  â”‚                 â”‚â”‚
â”‚ â”‚   Integration   â”‚  â”‚   Formatting    â”‚  â”‚ - Cross Env     â”‚â”‚
â”‚ â”‚ - Scale         â”‚  â”‚ - Decimal       â”‚  â”‚   Copy/Paste    â”‚â”‚
â”‚ â”‚   Utilities     â”‚  â”‚   Precision     â”‚  â”‚ - Data          â”‚â”‚
â”‚ â”‚ - Color         â”‚  â”‚ - Symbol        â”‚  â”‚   Transfer      â”‚â”‚
â”‚ â”‚   Management    â”‚  â”‚   Formatting    â”‚  â”‚ - Format        â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚fuzzySearch.js   â”‚ â”‚storeErrorHandlerâ”‚ â”‚websocketErrorHandlerâ”‚â”‚
â”‚ â”‚                 â”‚  â”‚      .js        â”‚  â”‚      .js        â”‚â”‚
â”‚ â”‚ - Search        â”‚  â”‚ - Store Error   â”‚  â”‚ - WebSocket     â”‚â”‚
â”‚ â”‚   Algorithms    â”‚  â”‚   Handling      â”‚  â”‚   Error         â”‚â”‚
â”‚ â”‚ - Symbol        â”‚  â”‚ - Graceful      â”‚  â”‚   Recovery      â”‚â”‚
â”‚ â”‚   Matching      â”‚  â”‚   Degradation   â”‚  â”‚ - Connection    â”‚â”‚
â”‚ â”‚ - Performance   â”‚  â”‚ - Error         â”‚  â”‚   Management    â”‚â”‚
â”‚ â”‚   Optimization  â”‚  â”‚   Boundaries    â”‚  â”‚ - Retry Logic   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ COMPLEXITY ANALYSIS

### ARCHITECTURE COMPLEXITY METRICS
- **Total Core Files**: ~85 specialized files
- **Store Layers**: 6+ interconnected stores
- **Utility Categories**: 12+ utility categories
- **Abstraction Layers**: 5+ layers of abstraction
- **Cross-Dependencies**: High coupling between many components

### MAINTENANCE BURDEN INDICATORS
- **Initialization Complexity**: Multi-phase initialization with sequencing requirements
- **Error Handling**: Redundant error handling across multiple layers
- **Performance Monitoring**: Multiple overlapping performance tracking systems
- **Configuration**: Complex configuration inheritance and override systems
- **Testing Infrastructure**: Extensive but fragmented testing utilities

## ğŸ” KEY OBSERVATIONS

1. **Over-Engineering**: The system has specialized utilities for tasks that could be handled more simply
2. **Fragmented State**: State is scattered across multiple stores with complex synchronization
3. **Redundant Abstractions**: Multiple layers doing similar work (e.g., error handling, performance monitoring)
4. **High Coupling**: Many components depend on multiple other systems
5. **Complex Initialization**: Race conditions and initialization order dependencies

This architecture represents a system that has grown through accretion rather than intentional design, resulting in high maintenance overhead and complexity that doesn't necessarily add proportional value.